<div class="nested-fields">
  <label class="control-label">+</label>
  <%= f.hidden_field :id %>
  <div class=" btn btn-light dropdown p-0 mb-1">
    <%= f.collection_select :tag_id, Tag.all, :id, :name, prompt: "タグを選択", class: 'form-control' %>
  </div>

  <%= link_to_remove_association "削除", f, id: 'remove-btn' %>
</div>

<script>
  $(document).on('turbolinks:load', function() { //初回読み込み、リロード、ページ切り替えでhtml読み込み
    if ($('.nested-fields').length == 1) {       //タグ追加フォームが1つだった時
      $('#remove-btn').hide();                   //削除ボタンを隠す
    }
});
</script> 
